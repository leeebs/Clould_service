# AWS 4주차 :cloud:  

## EC2에 Mysql 설치하기    

EC2에 Mysql을 설치하고 Toad에 사용자를 연동시켜 데이터베이스를 관리하는 환경을 구축하는 것이 목표이다.

![2 apt update 후 mysql server install](https://user-images.githubusercontent.com/66204538/118671026-167b7f80-b832-11eb-9cf6-e2f8b1700f5b.jpg)       
일단 apt update 후에 mysql-server를 install 한다.       

-------------------------------------------------------------------------------------      
![3 etc로 들어가면 mysql 확인](https://user-images.githubusercontent.com/66204538/118671394-64908300-b832-11eb-844f-e0840e26eb47.jpg)      
mysql이 다 설치된 후에 root의 etc로 들어가 정상적으로 설치되었는지 확인한다.      
         
-------------------------------------------------------------------------------------         
![5 mysql root 계정 접속 및 비밀번호 설정](https://user-images.githubusercontent.com/66204538/118671729-ae796900-b832-11eb-9adb-82af7b49a4b9.jpg)         
정상적으로 설치되었다면 root 계정으로 접속해 비밀번호를 설정한다.        

---------------------------------------------------------------------------------------       
![6 mysql root 계정 접속완료](https://user-images.githubusercontent.com/66204538/118671986-e08acb00-b832-11eb-8f49-e67f8f08ee84.jpg)        
root 계정으로 접속이 완료되었다.      

--------------------------------------------------------------------------------------------       
![7 mysql sql 명령어 확인](https://user-images.githubusercontent.com/66204538/118672201-07e19800-b833-11eb-8d9f-3bd57ae63cff.jpg)        
root 계정으로 접속하면 쿼리문을 사용할 수 있다. show databases를 통해 어떤 데이터베이스가 있는지 확인하는 쿼리를 실행하였다.      

----------------------------------------------------------------------------------------------         
![8 mysql 모든 아이피로 접속가능한 유저 생성(내 IP만 허용은 localhost)](https://user-images.githubusercontent.com/66204538/118672532-48411600-b833-11eb-8456-cf07a37f2860.jpg)         
새로운 유저를 생성하는 과정으로 cloud라는 name을 가지고 '%'를 통해 모든 IP로 접속 가능한 유저를 생성한다.         
유저의 비밀번호는 'cloud'이다.        

----------------------------------------------------------------------------------------------         
![9  생성 유저에 권한 부여)](https://user-images.githubusercontent.com/66204538/118672996-9e15be00-b833-11eb-87dc-1d4c8c8a6e53.jpg)        
생성한 cloud 유저에게 모든 권한을 부여한다.        

-----------------------------------------------------------------------------------------------       
![10 부여된 권한 확인](https://user-images.githubusercontent.com/66204538/118673169-c0a7d700-b833-11eb-94f5-e34c7cfa608b.jpg)        
유저의 권한이 제대로 부여됐는지 확인한다.      

--------------------------------------------------------------------------------------------        
![11 nano 에디터로 mysqld conf d 파일 열기](https://user-images.githubusercontent.com/66204538/118673307-db7a4b80-b833-11eb-88ec-c118fe1416d1.jpg)            
![12 bind-address 설정 추가](https://user-images.githubusercontent.com/66204538/118673463-fcdb3780-b833-11eb-9de7-71bb81737479.jpg)          
nano 에디터로 mysql 설정 파일인 mysqld.cnf를 열고 bind-address를 수정한다.       
          
![13 conf 파일 설정후에는 서버 재시작](https://user-images.githubusercontent.com/66204538/118673744-3744d480-b834-11eb-801b-3cd7fe1dadd5.jpg)            
수정이 끝난 후에는 mysql server를 재시작한다.      

--------------------------------------------------------------------------------------------       
![14 인바운드 규칙 편집](https://user-images.githubusercontent.com/66204538/118673955-63605580-b834-11eb-8c82-6e31270decbe.jpg)           
EC2로 돌아와 우분투 리눅스에서 mysql을 찾아 들어갈 수 있는 프로토콜를 열어주기 위해 인스턴스 보안의 인바운드 규칙을 편집해준다.    

----------------------------------------------------------------------------------------------       
![15 toad로 데이터베이스 연동](https://user-images.githubusercontent.com/66204538/118676021-082f6280-b836-11eb-8185-8e7b9e7ab065.jpg)       
미리 설치해둔 toad에 연동할 데이터베이스 정보를 기입한다.       
Host에는 EC2 퍼블릭 주소를 기입하고 나머지 정보들은 아까 생성한 유저 정보를 기입한다.      
        
![15 toad로 구동 확인](https://user-images.githubusercontent.com/66204538/118676356-4e84c180-b836-11eb-92e6-5629f49aecbb.jpg)        
정상적으로 연동되었다면 간단한 쿼리문으로 구동이 되는지 확인하면 끝이다.       


      
